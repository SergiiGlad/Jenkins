#!groovy

def lib = library identifier: 'my-shared-library@master', retriever: modernSCM(github(repository: 'Jenkins', repoOwner: 'SergiiGlad'))

node{

  git credentialsId: 'github_git',
    url: 'https://github.com/sergiiglad/web-delivery.git'

  def sun = lib.com.sun.SunDeploy.new("string") 

  def yamlFilePathList = fileList('.')

  if ( yamlFilePathList ) println yamlFilePathList

  List stages = [] 

  println sun

  yamlFilePathList.each {
      stages.add( it )
  }

  stages.each() {
    print( it )
  }

}